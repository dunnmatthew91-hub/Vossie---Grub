<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vossie Grub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fffbe7;
      margin: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 440px;
      margin: 40px auto 0 auto;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 12px #eee;
      padding: 32px;
    }
    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 18px;
    }
    h2 {
      color: #F9A826;
      font-weight: bold;
      margin-top: 8px;
      margin-bottom: 10px;
      font-size: 1.4em;
    }
    select, input[type="time"] {
      width: 100%;
      padding: 10px;
      font-size: 1.08em;
      border-radius: 8px;
      border: 1.2px solid #ddd;
      margin-top: 8px;
      margin-bottom: 16px;
    }
    button {
      background: #F9A826;
      color: #222;
      font-size: 1em;
      font-weight: bold;
      padding: 10px 18px;
      border: none;
      border-radius: 7px;
      box-shadow: 0 1px 4px #fffbe7a8;
      cursor: pointer;
      margin: 7px 0;
      transition: background .19s;
    }
    button:hover {
      background: #fcb600;
    }
    .menu-list {
      padding-left: 0;
    }
    .menu-list li {
      list-style: none;
      margin: 10px 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .cart-items {
      padding-left: 0px;
    }
    .cart-items li {
      list-style: none;
      margin: 3px 0;
      color: #48514e;
      font-size: 1em;
    }
    .muted {
      color: #999;
      font-size: .95em;
    }
    .backBtn {
      background: #ece9c1;
      color: #555;
      font-weight: normal;
      margin-bottom: 15px;
      box-shadow: none;
    }
    .summary {
      border-top: 1px dashed #f9a82677;
      padding-top: 12px;
      margin-top: 12px;
    }
    .success {
      color: green;
      margin: 22px 0 0 0;
      font-size: 1.1em;
      font-weight: 600;
    }
    .order-tracking {
      margin-top: 14px;
    }
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <!-- Simple SVG Logo -->
      <svg width="180" height="54" viewBox="0 0 180 54" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="3" y="3" width="174" height="48" rx="10" fill="#F9A826" stroke="#333" stroke-width="4"></rect>
        <text x="26" y="35" font-family="Arial Rounded MT Bold, Arial, sans-serif" font-size="28" fill="#333">
          Vossie Grub
        </text>
        <circle cx="160" cy="27" r="13" fill="#fffbe7" stroke="#333" stroke-width="2"></circle>
        <path d="M160 22v8M156 27h8" stroke="#F9A826" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <h2>Quick Campus Food Orders</h2>
    </header>
    <form id="vossieForm" autocomplete="off">
      <!-- Step 1: Select Campus -->
      <div id="campusStep">
        <label for="campusSelect" style="font-weight: 600; font-size: 1.1em;">Choose your campus</label>
        <select id="campusSelect" required>
          <option value="">-- Select a campus --</option>
          <option>Cape Town - Tygervalley</option>
          <option>Cape Town - Mowbray</option>
          <option>Durban (Umhlanga)</option>
          <option>Nelson Mandela Bay (Port Elizabeth)</option>
          <option>East London</option>
          <option>Bedfordview</option>
          <option>Midrand</option>
          <option>Vaal</option>
          <option>Pretoria</option>
          <option>Bloemfontein</option>
          <option>Mbombela</option>
          <option>Potchefstroom</option>
        </select>
        <button type="button" id="nextBtn">Next</button>
      </div>

      <!-- Step 2: Menu Selection -->
      <div id="menuStep" class="hidden">
        <button type="button" class="backBtn" id="toCampusBtn">‚Üê Back</button>
        <div class="muted" id="campusName"></div>
        <label style="font-weight: 600;">Choose items to order:</label>
        <ul class="menu-list" id="menuList"></ul>
        <div>
          <label for="pickupTime" style="font-weight: 600;">Pickup time:</label>
          <input type="time" id="pickupTime" required/>
          <div class="muted" style="margin-top: 6px;">
            On some phones, tap outside the picker or use your keyboard‚Äôs 'Done'/'Enter' to select!
          </div>
        </div>
        <button type="button" id="reviewBtn">Review Order</button>
      </div>

      <!-- Step 3: Order Summary -->
      <div id="summaryStep" class="hidden">
        <button type="button" class="backBtn" id="toMenuBtn">‚Üê Back</button>
        <h3>Order Summary</h3>
        <div class="muted" id="summaryCampus"></div>
        <ul class="cart-items" id="cartList"></ul>
        <div class="summary">
          <div>Pickup time: <b id="summaryPickup"></b></div>
          <div style="margin: 6px 0;">
            <b>Total: R<span id="summaryTotal"></span></b>
          </div>
        </div>
        <button type="submit" id="placeOrderBtn">Place Order</button>
        <!-- Live order tracking bar -->
        <div class="order-tracking hidden" id="orderTracking">
          <div id="orderStatus" style="
            margin-top: 16px;
            padding: 12px;
            border-radius: 10px;
            background: #f9a82611;
            color: #444;
            font-weight: 600;
            font-size: 1.05em;
            border: 1px solid #ffe2ab;
            text-align: center;
          ">Order Status: <span id="orderStatusMsg">Order Placed</span></div>
        </div>
        <div class="success hidden" id="orderSuccess">Thank you! Your order has been placed! üéâ</div>
      </div>
    </form>
  </div>
  <script>
    // Data
    const menuItems = [
      { name: "Coca Cola", price: 22 },
      { name: "Water (Still or Sparkling)", price: 18 },
      { name: "Ice Tea", price: 20 },
      { name: "Hot Dog", price: 28 },
      { name: "Crispy Creme Donut", price: 25 },
      { name: "Energy Bar", price: 30 }
    ];

    // State
    let chosenCampus = '';
    let cart = [];
    let pickupTime = '';
    let orderStatusTimer = null;

    // Elements
    const campusStep = document.getElementById("campusStep");
    const menuStep = document.getElementById("menuStep");
    const summaryStep = document.getElementById("summaryStep");
    const campusSelect = document.getElementById("campusSelect");
    const campusName = document.getElementById("campusName");
    const menuList = document.getElementById("menuList");
    const pickupTimeInput = document.getElementById("pickupTime");
    const cartList = document.getElementById("cartList");
    const summaryCampus = document.getElementById("summaryCampus");
    const summaryPickup = document.getElementById("summaryPickup");
    const summaryTotal = document.getElementById("summaryTotal");
    const orderSuccess = document.getElementById("orderSuccess");
    const orderTracking = document.getElementById("orderTracking");
    const orderStatusMsg = document.getElementById("orderStatusMsg");

    // Navigation buttons
    const nextBtn = document.getElementById("nextBtn");
    const toCampusBtn = document.getElementById("toCampusBtn");
    const reviewBtn = document.getElementById("reviewBtn");
    const toMenuBtn = document.getElementById("toMenuBtn");
    const placeOrderBtn = document.getElementById("placeOrderBtn");

    // MENU: Render menu
    function renderMenu() {
      menuList.innerHTML = '';
      menuItems.forEach((item, idx) => {
        const li = document.createElement('li');
        li.innerHTML = `
          <span>${item.name} - R${item.price}</span>
          <button type="button" data-idx="${idx}">Add</button>
        `;
        menuList.appendChild(li);
      });
      menuList.querySelectorAll('button').forEach(btn => {
        btn.onclick = function() {
          const idx = parseInt(btn.getAttribute('data-idx'));
          cart.push(menuItems[idx]);
          alert(menuItems[idx].name + " added to order.");
        };
      });
    }

    // Campus ‚Üí Menu
    nextBtn.onclick = function() {
      if (campusSelect.value === "") {
        alert("Please select a campus.");
        return;
      }
      chosenCampus = campusSelect.value;
      campusStep.classList.add('hidden');
      menuStep.classList.remove('hidden');
      summaryStep.classList.add('hidden');
      campusName.textContent = "Campus: " + chosenCampus;
      renderMenu();
      cart = [];
      pickupTimeInput.value = "";
      orderSuccess.classList.add('hidden');
    };

    // Menu ‚Üí Campus
    toCampusBtn.onclick = function() {
      campusStep.classList.remove('hidden');
      menuStep.classList.add('hidden');
      summaryStep.classList.add('hidden');
      orderSuccess.classList.add('hidden');
      orderTracking.classList.add('hidden');
      cart = [];
      pickupTimeInput.value = "";
      clearOrderStatusTimer();
    };

    // Menu ‚Üí Summary
    reviewBtn.onclick = function() {
      pickupTime = pickupTimeInput.value;
      if (!cart.length) {
        alert("Please add at least one item to your order!");
        return;
      }
      if (pickupTime === "") {
        alert("Please set a pickup time.");
        return;
      }
      menuStep.classList.add('hidden');
      summaryStep.classList.remove('hidden');
      renderSummary();
    };

    // Summary ‚Üí Menu
    toMenuBtn.onclick = function() {
      menuStep.classList.remove('hidden');
      summaryStep.classList.add('hidden');
      orderSuccess.classList.add('hidden');
      orderTracking.classList.add('hidden');
      pickupTimeInput.value = "";
      clearOrderStatusTimer();
    };

    // Render summary
    function renderSummary() {
      cartList.innerHTML = "";
      cart.forEach(item => {
        let li = document.createElement('li');
        li.textContent = item.name + ' - R' + item.price;
        cartList.appendChild(li);
      });
      summaryCampus.textContent = "Campus: " + chosenCampus;
      summaryPickup.textContent = pickupTime;
      summaryTotal.textContent = cart.reduce((sum, i) => sum + i.price, 0);
      orderSuccess.classList.add('hidden');
      orderTracking.classList.add('hidden');
      orderStatusMsg.textContent = "Order Placed";
      clearOrderStatusTimer();
    }

    // Fake order tracking logic
    function startOrderTracking() {
      orderTracking.classList.remove('hidden');
      orderStatusMsg.textContent = "Order Placed";
      let steps = [
        { msg: "Preparing your order...", delay: 1700 },
        { msg: "Almost ready...", delay: 1500 },
        { msg: "Ready for Pickup! üöÄ", delay: 1200 }
      ];
      let i = 0;

      function advanceStep() {
        if (i < steps.length) {
          orderStatusMsg.textContent = steps[i].msg;
          orderStatusTimer = setTimeout(advanceStep, steps[i].delay);
          i++;
        }
      }
      orderStatusTimer = setTimeout(advanceStep, steps[0].delay);
    }

    function clearOrderStatusTimer() {
      if (orderStatusTimer) {
        clearTimeout(orderStatusTimer);
        orderStatusTimer = null;
      }
    }

    // Place order (fake!) with live tracking
    document.getElementById("vossieForm").onsubmit = function(e) {
      e.preventDefault();
      orderSuccess.classList.remove('hidden');
      startOrderTracking();
      setTimeout(() => {
        // Reset to start after 2.6 seconds from "ready for pickup"
        campusStep.classList.remove('hidden');
        summaryStep.classList.add('hidden');
        campusSelect.value = "";
        cart = [];
        pickupTime = '';
        pickupTimeInput.value = "";
        orderSuccess.classList.add('hidden');
        orderTracking.classList.add('hidden');
        clearOrderStatusTimer();
      }, 2600 + 1700 + 1500 + 1200);
    };
  </script>
</body>
</html>
